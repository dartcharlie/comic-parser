var Scraper = require("image-scraper");
var siteName = "http://manhua1011.221-12-164-86.cdndm5.com"
var vol = process.argv[2];
var pageLen = parseInt(process.argv[3]);
var queryPrefix = "/q/%E4%B8%83%E9%BE%99%E7%8F%A0/%E4%B8%83%E9%BE%99%E7%8F%A0_vol" + vol + "/dragonball_" + vol +"_";
var querySuffix = ".jpg?cid=11420&key=24934715621546c74c16ac114fdbcd5c";
var urlArray = [];
for(var i=1;i<=pageLen;++i){
	var url = siteName + queryPrefix + padChar(i.toString(),3,'0') + querySuffix;
	urlArray.push(url);
}
//urlArray.push("http://manhua1011.221-12-164-86.cdndm5.com/q/%E4%B8%83%E9%BE%99%E7%8F%A0/%E4%B8%83%E9%BE%99%E7%8F%A0_vol01/dragonball_01_040.jpg?cid=11420&key=24934715621546c74c16ac114fdbcd5c");
//urlArray.push("http://manhua1011.221-12-164-86.cdndm5.com/q/%E4%B8%83%E9%BE%99%E7%8F%A0/%E4%B8%83%E9%BE%99%E7%8F%A0_vol01/dragonball_01_041.jpg?cid=11420&key=24934715621546c74c16ac114fdbcd5c");
var scraper = new Scraper(urlArray);

function padChar(s, width, char) {
  return (s.length >= width) ? s : (new Array(width).join(char) + s).slice(-width)
}

scraper.download();